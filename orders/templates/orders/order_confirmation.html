{% extends "base.html" %}

{% block title %}Подтверждение заказа №{{ order.id }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg text-center">
    <svg class="mx-auto h-16 w-16 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <h1 class="text-3xl font-bold text-gray-800 mt-4">Ваш заказ создан!</h1>
    <p class="text-gray-600 mt-2">Заказ №{{ order.id }} успешно сформирован. Пожалуйста, произведите оплату.</p>

    <div class="mt-8 p-6 bg-gray-50 rounded-lg">
        <h2 class="text-xl font-semibold mb-4">Детали для оплаты</h2>
        <div class="my-4 h-40 w-40 bg-gray-200 mx-auto flex items-center justify-center rounded-md">
            <span class="text-gray-500">[Здесь QR-код]</span>
        </div>
        <div class="text-3xl font-bold mb-4">
            Сумма к оплате: {{ total_price|floatformat:2 }} руб.
        </div>

        
        <div class="mt-6 pt-4 border-t border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800">Альтернативные способы:</h3>
            <p class="text-gray-600 mt-2">
                Перевод по номеру телефона: <strong class="text-gray-900">+7 (999) 123-45-67</strong> (Семён С.)
            </p>
            <p class="text-gray-600 mt-1">
                Или по номеру карты: <strong class="text-gray-900">1234 5678 9012 3456</strong>
            </p>
        </div>
        
    </div>

    <hr class="my-8">

    <h2 class="text-2xl font-semibold mb-4">Загрузите квитанцию</h2>
    <p class="text-gray-500 mb-6">После успешной оплаты, пожалуйста, прикрепите чек или квитанцию об оплате.</p>
    
    <form action="{% url 'orders:upload_receipt' order.id %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="receipt" required class="block w-full text-sm text-gray-500
               file:mr-4 file:py-2 file:px-4
               file:rounded-full file:border-0
               file:text-sm file:font-semibold
               file:bg-blue-50 file:text-blue-700
               hover:file:bg-blue-100
        "/>
        <button type="submit" class="mt-6 w-full bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors">
            Я оплатил, загрузить квитанцию
        </button>
    </form>
</div>
{% endblock %}
